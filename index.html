<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Baskƒ± Sipari≈ü | Profesyonel Hizmet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 600px;
            padding: 40px;
            position: relative;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2em;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
            font-size: 0.95em;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            transition: border-color 0.3s;
            background: white;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .file-upload-area {
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .file-upload-area:hover {
            background: #e8eaf6;
            border-color: #764ba2;
        }

        .file-upload-area input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .file-upload-icon {
            font-size: 2em;
            margin-bottom: 10px;
            color: #667eea;
        }

        .file-name {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
            word-break: break-all;
        }

        .colors-section {
            margin: 30px 0;
        }

        .colors-title {
            font-weight: 600;
            color: #444;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .color-palette {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            min-height: 120px;
        }

        .color-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.2s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .color-item:hover {
            transform: scale(1.1);
        }

        .color-item.selected {
            border-color: #333;
            transform: scale(1.1);
            box-shadow: 0 0 0 2px white, 0 0 0 4px #667eea;
        }

        .btn-submit {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .success-message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: #d4edda;
            color: #155724;
            border-radius: 10px;
            font-weight: 500;
            display: none;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .telegram-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #0088cc;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 5px 20px rgba(0,136,204,0.4);
            transition: all 0.3s;
            z-index: 1000;
        }

        .telegram-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,136,204,0.6);
        }

        .telegram-btn svg {
            width: 30px;
            height: 30px;
            fill: white;
        }

        .error-message {
            color: #dc3545;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }

        .file-error {
            color: #dc3545;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }

        .info-text {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
            vertical-align: middle;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® 3D Baskƒ± Sipari≈üi</h1>
        <p class="subtitle">Profesyonel 3D baskƒ± hizmeti - Dosyanƒ±zƒ± y√ºkleyin, hemen teklif verelim</p>

        <form id="orderForm">
            <div class="form-group">
                <label for="name">Adƒ±nƒ±z Soyadƒ±nƒ±z</label>
                <input type="text" id="name" placeholder="√ñrn: Ahmet Yƒ±lmaz" required>
            </div>

            <div class="form-group">
                <label for="email">E-posta Adresiniz</label>
                <input type="email" id="email" placeholder="ornek@email.com" required>
                <div class="info-text">Sipari≈ü durumu i√ßin e-posta adresinizi girin</div>
            </div>

            <div class="form-group">
                <label for="phone">Telefon Numaranƒ±z</label>
                <input type="tel" id="phone" placeholder="05XX XXX XX XX" required>
            </div>

            <div class="form-group">
                <label for="material">Filament T√ºr√º</label>
                <select id="material" required>
                    <option value="">Se√ßiniz</option>
                    <option value="PLA">PLA</option>
                    <option value="PETG">PETG</option>
                    <option value="ABS">ABS</option>
                </select>
            </div>

            <div class="form-group">
                <label>3D Model Dosyanƒ±z (STL/OBJ/3MF)</label>
                <div class="file-upload-area" id="fileUploadArea">
                    <div class="file-upload-icon">üìÅ</div>
                    <div>Dosya se√ßmek i√ßin tƒ±klayƒ±n veya s√ºr√ºkleyin</div>
                    <div class="info-text">Maksimum 50MB - STL, OBJ, 3MF formatlarƒ±</div>
                    <div class="file-name" id="fileName"></div>
                    <input type="file" id="fileInput" accept=".stl,.obj,.3mf,.STL,.OBJ,.3MF" required>
                </div>
                <div id="fileError" class="file-error">L√ºtfen bir dosya y√ºkleyin</div>
            </div>

            <div class="form-group">
                <label for="notes">Ek Notlar (ƒ∞steƒüe Baƒülƒ±)</label>
                <textarea id="notes" placeholder="Baskƒ±yla ilgili eklemek istediƒüiniz notlar..."></textarea>
            </div>

            <div class="colors-section">
                <div class="colors-title">Renk Se√ßin <span style="color: #667eea;">*</span></div>
                <div class="color-palette" id="colorPalette">
                    <p style="color: #999; width: 100%; text-align: center;">L√ºtfen malzeme se√ßin</p>
                </div>
                <div id="colorError" class="error-message">L√ºtfen bir renk se√ßin</div>
            </div>

            <button type="submit" class="btn-submit" id="submitBtn">
                <span class="loading" id="loading"></span>
                <span id="btnText">Sipari≈ü G√∂nder</span>
            </button>
            <div id="successMessage" class="success-message">
                ‚úÖ Sipari≈üiniz Alƒ±ndƒ±! Dosya Telegram'a g√∂nderildi.
            </div>
        </form>
    </div>

    <!-- Telegram Sabit Buton -->
    <a href="https://t.me/kullanici_adiniz" target="_blank" class="telegram-btn" title="Telegram'dan ula≈üƒ±n">
        <svg viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.43.52-.47-.01-1.37-.26-2.04-.48-.82-.27-1.47-.42-1.42-.89.02-.24.28-.48.77-.74 3.01-1.31 5.02-2.18 6.03-2.6 2.87-1.2 3.47-1.41 3.86-1.41.09 0 .29.02.42.12.1.08.14.19.15.3-.01.07-.02.18-.03.29z"/>
        </svg>
    </a>

    <script>
        // --- Telegram Bot Ayarlarƒ± ---
        const TELEGRAM_BOT_TOKEN = '8580146530:AAFmQ-p5GPDXEwrGchNxv0wTrxzopq2A_SM'; // BotFather'dan aldƒ±ƒüƒ±n token
        const TELEGRAM_CHAT_ID = '7538879338'; // Kendi chat ID'n
        const TELEGRAM_USERNAME = 'CREALUNE3D'; // Telegram kullanƒ±cƒ± adƒ±n

        // Telegram buton linkini g√ºncelle
        document.querySelector('.telegram-btn').href = `https://t.me/${TELEGRAM_USERNAME}`;

        // --- Renk Paletleri ---
        const colorPalettes = {
            PLA: [
                { name: 'Kƒ±rmƒ±zƒ±', code: '#FF4444' },
                { name: 'Mavi', code: '#4444FF' },
                { name: 'Ye≈üil', code: '#44FF44' },
                { name: 'Sarƒ±', code: '#FFFF44' },
                { name: 'Beyaz', code: '#FFFFFF' },
                { name: 'Siyah', code: '#333333' }
            ],
            PETG: [
                { name: '≈ûeffaf', code: '#E0E0E0' },
                { name: 'Turuncu', code: '#FF8844' },
                { name: 'Mor', code: '#8844FF' },
                { name: 'Gri', code: '#888888' }
            ],
            ABS: [
                { name: 'Mat Siyah', code: '#1A1A1A' },
                { name: 'Gri', code: '#666666' },
                { name: 'Beyaz', code: '#F0F0F0' },
                { name: 'Kƒ±rmƒ±zƒ±', code: '#CC3333' }
            ]
        };

        // DOM Elementleri
        const materialSelect = document.getElementById('material');
        const colorPalette = document.getElementById('colorPalette');
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');
        const notesInput = document.getElementById('notes');
        const fileInput = document.getElementById('fileInput');
        const fileName = document.getElementById('fileName');
        const fileUploadArea = document.getElementById('fileUploadArea');
        const orderForm = document.getElementById('orderForm');
        const successMessage = document.getElementById('successMessage');
        const colorError = document.getElementById('colorError');
        const fileError = document.getElementById('fileError');
        const submitBtn = document.getElementById('submitBtn');
        const loading = document.getElementById('loading');
        const btnText = document.getElementById('btnText');
        
        let selectedColor = null;
        let selectedColorCode = null;
        let selectedFile = null;

        // Dosya y√ºkleme alanƒ±
        fileUploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        fileUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadArea.style.background = '#e8eaf6';
            fileUploadArea.style.borderColor = '#764ba2';
        });

        fileUploadArea.addEventListener('dragleave', (e) => {
            e.preventDefault();
            fileUploadArea.style.background = '#f8f9fa';
            fileUploadArea.style.borderColor = '#667eea';
        });

        fileUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadArea.style.background = '#f8f9fa';
            fileUploadArea.style.borderColor = '#667eea';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files;
                updateFileName(files[0]);
            }
        });

        fileInput.addEventListener('change', function() {
            if (this.files.length > 0) {
                updateFileName(this.files[0]);
                fileError.style.display = 'none';
            }
        });

        function updateFileName(file) {
            selectedFile = file;
            const maxSize = 50 * 1024 * 1024; // 50MB
            
            if (file.size > maxSize) {
                fileError.textContent = 'Dosya boyutu 50MB\'dan b√ºy√ºk olamaz!';
                fileError.style.display = 'block';
                fileInput.value = '';
                fileName.textContent = '';
                selectedFile = null;
                return;
            }

            const validExtensions = ['.stl', '.obj', '.3mf'];
            const fileExt = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();
            
            if (!validExtensions.includes(fileExt)) {
                fileError.textContent = 'Sadece STL, OBJ veya 3MF dosyasƒ± y√ºkleyebilirsiniz!';
                fileError.style.display = 'block';
                fileInput.value = '';
                fileName.textContent = '';
                selectedFile = null;
                return;
            }

            fileName.textContent = `üìé ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
            fileError.style.display = 'none';
        }

        // Malzeme deƒüi≈ütiƒüinde renk paletini g√ºncelle
        materialSelect.addEventListener('change', function() {
            const material = this.value;
            updateColorPalette(material);
        });

        function updateColorPalette(material) {
            selectedColor = null;
            selectedColorCode = null;
            colorError.style.display = 'none';

            if (!material || !colorPalettes[material]) {
                colorPalette.innerHTML = '<p style="color: #999; width: 100%; text-align: center;">L√ºtfen malzeme se√ßin</p>';
                return;
            }

            const colors = colorPalettes[material];
            let paletteHTML = '';

            colors.forEach(color => {
                paletteHTML += `<div class="color-item" style="background-color: ${color.code};" data-color="${color.name}" data-code="${color.code}" title="${color.name}"></div>`;
            });

            colorPalette.innerHTML = paletteHTML;

            document.querySelectorAll('.color-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.color-item').forEach(el => {
                        el.classList.remove('selected');
                    });
                    
                    this.classList.add('selected');
                    selectedColor = this.dataset.color;
                    selectedColorCode = this.dataset.code;
                    colorError.style.display = 'none';
                });
            });
        }

        // Dosyayƒ± Telegram'a g√∂nderme fonksiyonu
        async function sendFileToTelegram(file, caption) {
            const formData = new FormData();
            formData.append('chat_id', TELEGRAM_CHAT_ID);
            formData.append('document', file);
            formData.append('caption', caption);
            formData.append('parse_mode', 'HTML');

            try {
                const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendDocument`, {
                    method: 'POST',
                    body: formData
                });

                return response.ok;
            } catch (error) {
                console.error('Dosya g√∂nderme hatasƒ±:', error);
                return false;
            }
        }

        // Form g√∂nderimi
        orderForm.addEventListener('submit', async function(e) {
            e.preventDefault();

            // Validasyonlar
            const name = nameInput.value.trim();
            const email = emailInput.value.trim();
            const phone = phoneInput.value.trim();
            const material = materialSelect.value;
            const notes = notesInput.value.trim();

            if (!name || !email || !phone || !material) {
                alert('L√ºtfen t√ºm zorunlu alanlarƒ± doldurun!');
                return;
            }

            if (!selectedFile) {
                fileError.style.display = 'block';
                fileUploadArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            if (!selectedColor) {
                colorError.style.display = 'block';
                colorPalette.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            // Butonu devre dƒ±≈üƒ± bƒ±rak ve loading g√∂ster
            submitBtn.disabled = true;
            loading.style.display = 'inline-block';
            btnText.textContent = ' G√∂nderiliyor...';

            // Mesaj metnini hazƒ±rla
            const caption = `
üñ®Ô∏è <b>YENƒ∞ 3D BASKI Sƒ∞PARƒ∞≈ûƒ∞</b>

üë§ <b>M√º≈üteri:</b> ${name}
üìß <b>E-posta:</b> ${email}
üìû <b>Telefon:</b> ${phone}
üßµ <b>Malzeme:</b> ${material}
üé® <b>Renk:</b> ${selectedColor} (${selectedColorCode})
üìé <b>Dosya:</b> ${selectedFile.name}
${notes ? `üìù <b>Notlar:</b> ${notes}` : ''}
‚è∞ <b>Tarih:</b> ${new Date().toLocaleString('tr-TR')}
            `;

            // √ñnce dosyayƒ± g√∂nder
            const fileSent = await sendFileToTelegram(selectedFile, caption);

            if (fileSent) {
                successMessage.style.display = 'block';
                
                // Formu temizle
                nameInput.value = '';
                emailInput.value = '';
                phoneInput.value = '';
                materialSelect.value = '';
                notesInput.value = '';
                fileInput.value = '';
                fileName.textContent = '';
                selectedFile = null;
                updateColorPalette('');
                
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
            } else {
                alert('Sipari≈ü g√∂nderilirken bir hata olu≈ütu. L√ºtfen tekrar deneyin.');
            }

            // Butonu eski haline getir
            submitBtn.disabled = false;
            loading.style.display = 'none';
            btnText.textContent = 'Sipari≈ü G√∂nder';
        });

        // Telefon inputu i√ßin sadece rakam
        phoneInput.addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
        });
    </script>
</body>
</html>